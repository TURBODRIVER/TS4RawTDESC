<?xml version="1.0" encoding="iso-8859-1"?>

<TuningRoot>
    <Instance instance_type="role_state" class="RoleState" module="role.role_state" description="Represents tuning for a role state. Deferring Instance Tunable declaration because of circular reference that can occur with defining the role state transition snippet and declaration of the field in the instance tunables" instance_needs_reference="True" instance_subclasses_only="False" path="RoleStates\Descriptions" use_guid_for_reference="True">
        <Tunable type="bool" name="_allow_npc_routing_on_active_lot" class="Tunable" default="True" display="Allow Npc Routing On Active Lot" description="If True, then npc in this role will be allowed to route on the active lot. If False, then npc in this role will not be allowed to route on the active lot, unless they are already on the lot when the role state is activated. This flag is ignored for player sims and npcs who live on the active lot. e.g. ambient walkby sims should not be routing on the active lot because that is rude." group="General" />

        <TunableVariant type="None" name="_autonomy_state_override" class="OptionalTunable" default="disabled" display="Autonomy State Override" description="If tuned, will force role sims into a specific autonomy state. Please consult your GPE partner before using this." group="General">
            <Tunable name="disabled" class="TunableExistance" display="Disabled" />
            <TunableEnum type="AutonomyState" name="enabled" class="TunableEnumEntry" default="LIMITED_ONLY" display="Enabled" static_entries="autonomy-settings.AutonomyState" group="General" invalid_entries="MEDIUM" />
        </TunableVariant>

        <TunableList name="_buffs" class="TunableList" display="Buffs" description="Buffs that will be added to sim when role is active." group="General">
            <TunableTuple class="TunableBuffReference" group="General">
                <TunableVariant type="None" name="buff_reason" class="OptionalTunable" default="disabled" display="Buff Reason" description="If set, specify a reason why the buff was added." group="General">
                    <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                    <Tunable type="int" name="enabled" class="TunableLocalizedString" default="0x0" display="Enabled" description="The reason the buff was added. This will be displayed in the buff tooltip." group="General" />
                </TunableVariant>
                <TunableVariant type="None" name="buff_source" class="OptionalTunable" default="disabled" display="Buff Source" description="The tuning file that applied this buff. This is typically tuned to be the same file that this buff is being tuned on. This is NOT player facing, and is used for telemetry only. " group="General">
                    <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                    <TunableVariant type="None" name="enabled" class="TunableVariant" default="none" display="Enabled" description="The tuning file that applied this buff. This is typically tuned to be the same file that this buff is being tuned on. This is NOT player facing, and is used for telemetry only. " group="General">
                        <Tunable type="interaction" name="from_interaction" class="TunableReference" display="From Interaction" allow_none="False" group="General" />
                        <Tunable type="action" name="from_loot" class="TunableReference" display="From Loot" allow_none="False" group="General" />
                        <Tunable name="none" class="TunableExistance" display="None" />
                    </TunableVariant>
                </TunableVariant>
                <Tunable type="buff" name="buff_type" class="TunableReference" display="Buff Type" description="Buff that will get added to sim." allow_none="False" group="General" pack_safe="True" />
            </TunableTuple>
        </TunableList>

        <TunableEnum type="RoleStateCraftingOwnershipOverride" name="_crafting_process_override" class="TunableEnumEntry" default="NO_OVERRIDE" display="Crafting Process Override" static_entries="role-role_state.RoleStateCraftingOwnershipOverride" description="The override option of who to assign ownership of objects made by Sims in this role state." group="General" />

        <TunableTuple name="_off_lot_autonomy_buff" class="TunableBuffReference" display="Off Lot Autonomy Buff" description="A buff that prevents autonomy from considering some objects based on the location of the object (e.g. on lot, off lot, within a radius of the sim). In the buff set: Game Effect Modifiers->Autonomy Modifier->Off Lot Autonomy Rule." group="General">
            <TunableVariant type="None" name="buff_reason" class="OptionalTunable" default="disabled" display="Buff Reason" description="If set, specify a reason why the buff was added." group="General">
                <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                <Tunable type="int" name="enabled" class="TunableLocalizedString" default="0x0" display="Enabled" description="The reason the buff was added. This will be displayed in the buff tooltip." group="General" />
            </TunableVariant>
            <TunableVariant type="None" name="buff_source" class="OptionalTunable" default="disabled" display="Buff Source" description="The tuning file that applied this buff. This is typically tuned to be the same file that this buff is being tuned on. This is NOT player facing, and is used for telemetry only. " group="General">
                <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                <TunableVariant type="None" name="enabled" class="TunableVariant" default="none" display="Enabled" description="The tuning file that applied this buff. This is typically tuned to be the same file that this buff is being tuned on. This is NOT player facing, and is used for telemetry only. " group="General">
                    <Tunable type="interaction" name="from_interaction" class="TunableReference" display="From Interaction" allow_none="False" group="General" />
                    <Tunable type="action" name="from_loot" class="TunableReference" display="From Loot" allow_none="False" group="General" />
                    <Tunable name="none" class="TunableExistance" display="None" />
                </TunableVariant>
            </TunableVariant>
            <Tunable type="buff" name="buff_type" class="TunableReference" display="Buff Type" description="Buff that will get added to sim." allow_none="True" group="General" />
        </TunableTuple>

        <TunableVariant type="None" name="_on_activate" class="TunableVariant" default="disabled" display="On Activate" description="Select the autonomy behavior when this role state becomes active on the sim. disabled: Take no action. autonomy_ping: We explicitly force an autonomy ping on the sim. push_affordance: Push the specific affordance on the sim." group="General">
            <TunableTuple name="autonomy_ping" class="TunableDoAutonomyPingFromRole" display="Autonomy Ping" group="General" />
            <Tunable name="disabled" class="TunableExistance" display="Disabled" />
            <TunableTuple name="parameterized_autonomy_ping" class="TunableDoParameterizedAutonomyPingFromRole" display="Parameterized Autonomy Ping" description="Parameterized autonomy ping to run either during preroll or as soon as the sim is assigned this role." group="General">
                <TunableList name="commodities" class="TunableSet" display="Commodities" description="Set of commodities to run parameterized autonomy against after running this interaction." group="General" unique_entries="true">
                    <Tunable type="statistic" class="TunableReference" description="The type of commodity to search for." allow_none="False" group="General" />
                </TunableList>
                <Tunable type="bool" name="consider_scores_of_zero" class="Tunable" default="False" display="Consider Scores Of Zero" description="The autonomy request will consider scores of zero. This allows sims to to choose things they might not desire." group="General" />
                <TunableVariant type="None" name="full_ping_on_fail" class="OptionalTunable" default="disabled" display="Full Ping On Fail" description="If enabled, if the parameterized ping fails to find an interaction it will do a full autonomy ping after the specified delay." group="General">
                    <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                    <TunableTuple name="enabled" class="TunableTimeSpan" display="Enabled" description="A duration that may be specified in weeks/days/hours/minutes." group="General">
                        <Tunable type="int" name="days" class="TunableRange" default="0" display="Days" min="0" max="None" description="Number of days" tuning_state="NeedsTuning" group="General" />
                        <Tunable type="int" name="hours" class="TunableRange" default="0" display="Hours" min="0" max="23" description="Number of hours" tuning_state="NeedsTuning" group="General" />
                        <Tunable type="int" name="minutes" class="TunableRange" default="1" display="Minutes" min="0" max="59" description="Number of minutes" tuning_state="NeedsTuning" group="General" />
                    </TunableTuple>
                </TunableVariant>
                <TunableVariant type="None" name="off_lot_rule" class="OptionalTunable" default="disabled" display="Off Lot Rule" description="The rules to apply for how autonomy handle on-lot and off-lot targets. DEFAULT: Off-lot sims who are outside the lot's tolerance will not autonomously perform interactions on the lot. Sims will only autonomously perform off-lot interactions within their off-lot radius. ON_LOT_ONLY: Sims will only consider targets on the active lot. SHARED_SPACE_ONLY: Sims will only consider targets on the shared space of active lot. OFF_LOT_ONLY: Sims will only consider targets that are off the active lot. UNLIMITED: Sims will consider all objects regardless of on/off lot status. FESTIVAL: Sims will consider all objects within the festival area. ANCHORED: Sims will only consider objects within a tuned radius of autonomy anchor objects. Anchor objects can be objects that match a tag, sims that match a buff, or set by external systems. BUSINESS_EMPLOYEE: Sims will not use objects that are in a Private Dynamic Area BUSINESS_CUSTOMER: Sims will not use objects that are in a Private Dynamic Area or Employee only Dynamic Area" group="General">
                    <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                    <TunableVariant type="None" name="enabled" class="TunableOffLotAutonomy" default="default_behavior" display="Enabled" description="The rules to apply for how autonomy handle on-lot and off-lot targets. DEFAULT: Off-lot sims who are outside the lot's tolerance will not autonomously perform interactions on the lot. Sims will only autonomously perform off-lot interactions within their off-lot radius. ON_LOT_ONLY: Sims will only consider targets on the active lot. SHARED_SPACE_ONLY: Sims will only consider targets on the shared space of active lot. OFF_LOT_ONLY: Sims will only consider targets that are off the active lot. UNLIMITED: Sims will consider all objects regardless of on/off lot status. FESTIVAL: Sims will consider all objects within the festival area. ANCHORED: Sims will only consider objects within a tuned radius of autonomy anchor objects. Anchor objects can be objects that match a tag, sims that match a buff, or set by external systems. BUSINESS_EMPLOYEE: Sims will not use objects that are in a Private Dynamic Area BUSINESS_CUSTOMER: Sims will not use objects that are in a Private Dynamic Area or Employee only Dynamic Area" group="General">
                        <TunableTuple name="anchored" class="TunableTuple" display="Anchored" description="Sims will only consider targets that are off the active lot. " group="General">
                            <TunableVariant type="None" name="anchor_buff" class="OptionalTunable" default="disabled" display="Anchor Buff" description="If enabled, this will set the autonomy anchor to all sims that match the tuned buff." group="General">
                                <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                                <TunableTuple name="enabled" class="TunableBuffReference" display="Enabled" description="The buff in question." group="General">
                                    <TunableVariant type="None" name="buff_reason" class="OptionalTunable" default="disabled" display="Buff Reason" description="If set, specify a reason why the buff was added." group="General">
                                        <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                                        <Tunable type="int" name="enabled" class="TunableLocalizedString" default="0x0" display="Enabled" description="The reason the buff was added. This will be displayed in the buff tooltip." group="General" />
                                    </TunableVariant>
                                    <TunableVariant type="None" name="buff_source" class="OptionalTunable" default="disabled" display="Buff Source" description="The tuning file that applied this buff. This is typically tuned to be the same file that this buff is being tuned on. This is NOT player facing, and is used for telemetry only. " group="General">
                                        <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                                        <TunableVariant type="None" name="enabled" class="TunableVariant" default="none" display="Enabled" description="The tuning file that applied this buff. This is typically tuned to be the same file that this buff is being tuned on. This is NOT player facing, and is used for telemetry only. " group="General">
                                            <Tunable type="interaction" name="from_interaction" class="TunableReference" display="From Interaction" allow_none="False" group="General" />
                                            <Tunable type="action" name="from_loot" class="TunableReference" display="From Loot" allow_none="False" group="General" />
                                            <Tunable name="none" class="TunableExistance" display="None" />
                                        </TunableVariant>
                                    </TunableVariant>
                                    <Tunable type="buff" name="buff_type" class="TunableReference" display="Buff Type" description="Buff that will get added to sim." allow_none="False" group="General" />
                                </TunableTuple>
                            </TunableVariant>
                            <TunableVariant type="None" name="anchor_tag" class="OptionalTunable" default="disabled" display="Anchor Tag" description="If enabled, this will set the autonomy anchor to all objects that match the tuned tag." group="General">
                                <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                                <TunableEnum type="Tag" name="enabled" class="TunableEnumEntry" default="INVALID" display="Enabled" dynamic_entries="tag.Tag._elements" static_entries="tag.Tag" description="The tag used to find an object to be an anchor." group="General" />
                            </TunableVariant>
                            <Tunable type="float" name="radius" class="TunableRange" default="50" display="Radius" min="0" max="None" description="The radius around the anchoring point in which the sim will consider objects. This point must be set on the autonomy component. Designers: Please make sure this autonomy modifier is attached to a role or other other gameplay system that will correctly set the anchoring point before you set this. Or set the anchor tag on this tunable." tuning_state="NeedsTuning" group="General" />
                        </TunableTuple>
                        <TunableTuple name="business_customer" class="TunableTuple" display="Business Customer" description="Sims will only consider objects located in public area defined by dynamic areas." group="General" />
                        <TunableTuple name="business_employee" class="TunableTuple" display="Business Employee" description="Sims will only consider objects located in public and employee only areas defined by dynamic areas." group="General" />
                        <TunableTuple name="default_behavior" class="TunableTuple" display="Default Behavior" description="Off-lot sims who are outside the lot's tolerance will not autonomously perform interactions on the lot. Sims will only autonomously perform off-lot interactions within their off-lot radius." group="General">
                            <Tunable type="float" name="radius" class="TunableRange" default="25" display="Radius" min="0" max="None" description="The radius around the sim in which he will consider off-lot objects. If it is 0, the Sim will not consider off-lot objects at all. This is not recommended since it will keep them from running any interactions unless they are already within the tolerance for that lot (set with Off Lot Tolerance)." tuning_state="NeedsTuning" group="General" />
                            <Tunable type="float" name="tolerance" class="Tunable" default="7.5" display="Tolerance" description="This is how many meters the Sim can be off of the lot while still being considered on the lot for the purposes of autonomy. For example, if this is set to 5, the sim can be 5 meters from the edge of the lot and still consider all the objects on the lot for autonomy. If the sim were to step 6 meters from the lot, the sim would be considered off the lot and would only score off-lot objects that are within the off lot radius." tuning_state="NeedsTuning" group="General" />
                        </TunableTuple>
                        <TunableTuple name="off_lot_only" class="TunableTuple" display="Off Lot Only" description="Sims will only consider targets that are off the active lot. " group="General">
                            <Tunable type="float" name="radius" class="TunableRange" default="1000" display="Radius" min="0" max="None" description="The radius around the sim in which he will consider off-lot objects. If it is 0, the Sim will not consider off-lot objects at all. This is not recommended since it will keep them from running any interactions unless they are already within the tolerance for that lot (set with Off Lot Tolerance)." tuning_state="NeedsTuning" group="General" />
                        </TunableTuple>
                        <TunableTuple name="on_lot_only" class="TunableTuple" display="On Lot Only" description="Sims will only consider targets on the active lot." group="General" />
                        <TunableTuple name="restricted" class="TunableTuple" display="Restricted" description="Sims will consider all objects in the restricted open street autonomy area. This is defined by points in world builder so please make sure that world builder has setup the objects before trying to use this option." group="General" />
                        <TunableTuple name="shared_space_only" class="TunableTuple" display="Shared Space Only" description="Sims will only consider targets on the shared space/common space of active lot. " group="General" />
                        <TunableTuple name="unlimited" class="TunableTuple" display="Unlimited" description="Sims will consider all objects regardless of on/off lot status." group="General" />
                    </TunableVariant>
                </TunableVariant>
                <TunableEnum type="Priority" name="priority" class="TunableEnumEntry" default="Low" display="Priority" static_entries="interactions-priority.Priority" description="The priority level at which this autonomy will run." group="General" />
                <Tunable type="float" name="radius_to_consider" class="Tunable" default="0" display="Radius To Consider" description="The radius around the sim that targets must be in to be valid for Parameterized Autonomy. Anything outside this radius will be ignored. A radius of 0 is considered infinite." tuning_state="NeedsTuning" group="General" />
                <TunableVariant type="None" name="run_priority" class="OptionalTunable" default="disabled" display="Run Priority" description="If enabled, specify the run priority at which the selected affordance (if any is selected) will run." group="General">
                    <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                    <TunableEnum type="Priority" name="enabled" class="TunableEnumEntry" default="Low" display="Enabled" static_entries="interactions-priority.Priority" group="General" />
                </TunableVariant>
                <TunableEnum type="InteractionSource" name="source" class="TunableEnumEntry" default="AUTONOMY" display="Source" static_entries="interactions-context.InteractionSource" description="Set this to *spoof* the source of this interaction. This will have various gameplay effects and should be used after due consideration." group="General" />
                <TunableList name="static_commodities" class="TunableSet" display="Static Commodities" description="Set of static commodities to run parameterized autonomy against after running this interaction." group="General" unique_entries="true">
                    <Tunable type="scommodity" class="TunableReference" description="The type of static commodity to search for." allow_none="False" group="General" />
                </TunableList>
                <Tunable type="bool" name="test_connectivity_to_target" class="Tunable" default="True" display="Test Connectivity To Target" description="If checked, this test will ensure the Sim can pass a pt to pt connectivity check to the advertising object." group="General" />
            </TunableTuple>
            <TunableTuple name="push_affordance" class="TunablePushAffordanceFromRole" display="Push Affordance" description="Push the specific affordance onto the sim." group="General">
                <Tunable type="bool" name="_skip_on_load" class="Tunable" default="False" display="Skip On Load" description="If tuned, we completely skip the push on load. Used primarily for complex situations that have the potential to duplicate affordances due to complicated interaction flows. Note by using this you end up forfeiting the other knobs in this tuning when loading." group="General" />
                <Tunable type="bool" name="add_situation_liability" class="Tunable" default="False" display="Add Situation Liability" description="If set to True, we will add a liability to the pushed interaction such that we will cancel the situation owning this role state if the interaction (and its continuations) are completed or canceled." group="General" />
                <Tunable type="interaction" name="affordance" class="TunableReference" display="Affordance" allow_none="False" group="General" />
                <Tunable type="bool" name="cancel_interaction_on_leave_role" class="Tunable" default="False" display="Cancel Interaction On Leave Role" description="If set to True, we will cancel the interaction (and continuations) when the sim leaves the role." group="General" />
                <Tunable type="bool" name="defer_on_activate_to_hitting_marks" class="Tunable" default="False" display="Defer On Activate To Hitting Marks" description="Whether we should delay pushing the affordance until the zone hits the hitting marks phase. For certain roles, particularly yoga push affordance roles, during zone load we need to wait until the Sim's SI state has properly been restored to reliably push affordances." group="General" />
                <Tunable type="bool" name="leave_situation_on_failure" class="Tunable" default="False" display="Leave Situation On Failure" description="If set to True, when push affordance on the sim fails, sim will leave the situation." group="General" />
                <TunableEnum type="Priority" name="priority" class="TunableEnumEntry" default="High" display="Priority" static_entries="interactions-priority.Priority" description="Priority to push the interaction" group="General" />
                <TunableEnum type="Priority" name="run_priority" class="TunableEnumEntry" default="None" display="Run Priority" static_entries="interactions-priority.Priority" description="Priority to run the interaction. None means use the (push) priority" group="General" />
                <TunableEnum type="InteractionSource" name="source" class="TunableEnumEntry" default="SCRIPT" display="Source" static_entries="interactions-context.InteractionSource" group="General" />
                <TunableVariant type="None" name="super_affordance_for_mixer" class="OptionalTunable" default="do_not_need_si" display="Super Affordance For Mixer" description="If we want to push mixer directly in the affordance tuning for this role state, we would need to provide a super affordance here to handle the mixer." group="General">
                    <Tunable name="do_not_need_si" class="TunableExistance" display="Do Not Need Si" />
                    <Tunable type="interaction" name="provide_si" class="TunableReference" display="Provide Si" allow_none="False" group="General" />
                </TunableVariant>
                <TunableEnum type="SituationAffordanceTarget" name="target" class="TunableEnumEntry" default="NO_TARGET" display="Target" static_entries="role-role_state.SituationAffordanceTarget" description="The target of the affordance. We will try to get the target from the situation the role sim is running." group="General" />
            </TunableTuple>
        </TunableVariant>

        <TunableList name="_portal_disallowance_tags" class="TunableSet" display="Portal Disallowance Tags" description="A set of tags that define what the portal disallowance tags of this role state are. Portals that include any of these disallowance tags are considered locked for sims that have this role state." group="General" unique_entries="true">
            <TunableEnum type="Tag" class="TunableEnumWithFilter" default="INVALID" dynamic_entries="tag.Tag._elements" static_entries="tag.Tag" description="A single portal disallowance tag." dynamic_entries_prefix="PortalDisallowance" group="General" />
        </TunableList>

        <TunableEnum type="RolePriority" name="_role_priority" class="TunableEnumEntry" default="NORMAL" display="Role Priority" static_entries="role-role_state.RolePriority" description="The priority of this role state. All the role states with the same priority will all be applied together. The highest group of priorities is considered the active ones." group="General" />

        <Tunable type="bool" name="always_active" class="Tunable" default="False" display="Always Active" description="If set to True, this role will always be allowed to be active when set on a Sim, regardless of whether or not it is lower priority than the Sim's other currently active roles. Use for roles that are important but retuning priority for it and/or other roles isn't feasible. Consult a GPE before you set this to True. This is not to be used lightly and there may be other options like situation exclusivity that can be explored before you go down this route. e.g. Sim is possessed which runs at HIGH priority. Sim wants to go visit an NPC residential lot, which places Sim in NORMAL priority Role_UngreetedPlayerVisitingNPC, which sets portal disallowance and adds specific buffs. We actually want Role_UngreetedPlayerVisitingNPC to run even though the role priority is now HIGH, because otherwise a possessed Sim visiting an NPC would magically be able to route through homes because portal disallowance is removed." group="General" />

        <TunableList name="loot_on_load" class="TunableList" display="Loot On Load" description="A list of loots that will be applied if a sim is in this role state during zone spin up." group="General">
            <Tunable type="action" class="TunableReference" allow_none="False" group="General" pack_safe="True" restrict="LootActions,RandomWeightedLoot" />
        </TunableList>

        <TunableList name="preroll_affordances" class="TunableList" display="Preroll Affordances" description="A list of affordances that are available for sims to consider when running pre-roll. Objects related to role can specify preroll autonomy, but there are some roles that may not have an object associated with it e.g. Romance guru in romance festival preroll to an attractor point." group="General">
            <Tunable type="interaction" class="TunableReference" allow_none="False" group="General" pack_safe="True" restrict="SuperInteraction" />
        </TunableList>

        <TunableList name="role_affordances" class="TunableList" display="Role Affordances" description="A list of affordances that are available on the Sim in this Role State. e.g: when a Maid is in the working Role State, he or she will have the 'Dismiss' and 'Fire' affordances available in the Pie Menu." group="General">
            <Tunable type="interaction" class="TunableReference" allow_none="False" group="General" pack_safe="True" restrict="SuperInteraction" />
        </TunableList>

        <TunableList name="role_target_affordances" class="TunableList" display="Role Target Affordances" description="A list of affordances that are available on other Sims when the actor Sim is in this Role State. e.g. a Sim in a specific Role State could have an 'Invite to Situation' interaction available when bringing up other Sims' Pie Menus." group="General">
            <Tunable type="interaction" class="TunableReference" allow_none="False" group="General" pack_safe="True" restrict="SuperInteraction" />
        </TunableList>

        <TunableList name="tags" class="TunableSet" display="Tags" description="Tags for the role state for checking role states against a set of tags rather than against a list of role states." group="General" unique_entries="true">
            <TunableEnum type="Tag" class="TunableEnumEntry" default="INVALID" dynamic_entries="tag.Tag._elements" static_entries="tag.Tag" group="General" />
        </TunableList>
    </Instance>

    
</TuningRoot>
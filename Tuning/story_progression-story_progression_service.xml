<?xml version="1.0" encoding="iso-8859-1"?>

<TuningRoot>
    <Module name="story_progression.story_progression_service">
        <Class name="StoryProgressionPassType" enum_bit_flag="False" enum_locked="False">
            <EnumItem name="GLOBAL" enum_value="0" />

            <EnumItem name="PER_WORLD" enum_value="1" />
        </Class>

        <Class name="StoryProgressionService">
            <TunableList name="ACTIONS" class="TunableList" display="Actions" description="A list of actions that are available to Story Progression." group="General">
                <TunableVariant type="None" class="TunableStoryProgressionActionVariant" default="none" group="General">
                    <TunableTuple name="fame" class="TunableStoryProgressionActionFame" display="Fame" description="An action defines behavior that is to occur on a certain subset of Sims affected by Story Progression." group="General">
                        <TunableTuple name="time_of_day" class="TunableTuple" display="Time Of Day" description="Only run this action when it is between a certain time of day." group="General">
                            <TunableTuple name="end_time" class="TunableTimeOfDay" display="End Time" description="An Hour(24Hr) and Minute representing a time relative to the beginning of a day." group="General">
                                <Tunable type="int" name="hour" class="TunableRange" default="6" display="Hour" min="0" max="23" description="Hour of the day" tuning_state="NeedsTuning" group="General" />
                                <Tunable type="int" name="minute" class="TunableRange" default="0" display="Minute" min="0" max="59" description="Minute of Hour" tuning_state="NeedsTuning" group="General" />
                            </TunableTuple>
                            <TunableTuple name="start_time" class="TunableTimeOfDay" display="Start Time" description="An Hour(24Hr) and Minute representing a time relative to the beginning of a day." group="General">
                                <Tunable type="int" name="hour" class="TunableRange" default="2" display="Hour" min="0" max="23" description="Hour of the day" tuning_state="NeedsTuning" group="General" />
                                <Tunable type="int" name="minute" class="TunableRange" default="0" display="Minute" min="0" max="59" description="Minute of Hour" tuning_state="NeedsTuning" group="General" />
                            </TunableTuple>
                        </TunableTuple>
                    </TunableTuple>
                    <TunableTuple name="initial_population" class="TunableStoryProgressionInitialPopulation" display="Initial Population" description="An action defines behavior that is to occur on a certain subset of Sims affected by Story Progression." group="General">
                        <TunableTuple name="_homeless_households" class="TunableInterval" display="Homeless Households" description="Random number of homeless households to create." group="General">
                            <Tunable type="int" name="lower_bound" class="TunableRange" default="1" display="Lower Bound" min="0" max="None" description="The lower bound of the interval." tuning_state="NeedsTuning" group="General" />
                            <Tunable type="int" name="upper_bound" class="TunableRange" default="3" display="Upper Bound" min="None" max="None" description="The upper bound of the interval." tuning_state="NeedsTuning" group="General" />
                        </TunableTuple>
                        <TunableList name="_region_to_population_density" class="TunableMapping" display="Region To Population Density" mapping_key="Region Description" mapping_value="Population Density" description="Based on region what percent of available lots will be filled." group="General">
                            <TunableTuple class="TunableTuple" group="General">
                                <TunableTuple name="Population Density" class="TunableTuple" display="Population Density" group="General">
                                    <Tunable type="float" name="density" class="TunablePercent" default="40" display="Density" min="0" max="100" description="Percent of how much of the residential lots will be occupied of all the available lots in that region. If the current lot density is greater than this value, then no household will be moved in." group="General" />
                                    <Tunable type="int" name="min_empty" class="TunableRange" default="2" display="Min Empty" min="0" max="None" description="Minimum number of empty lots that should stay empty for this neighborhood." tuning_state="NeedsTuning" group="General" />
                                </TunableTuple>
                                <Tunable type="regiondescription" name="Region Description" class="TunableReference" display="Region Description" group="General" pack_safe="True" />
                            </TunableTuple>
                        </TunableList>
                    </TunableTuple>
                    <TunableTuple name="max_population" class="TunableStoryProgressionActionMaxPopulation" display="Max Population" description="An action defines behavior that is to occur on a certain subset of Sims affected by Story Progression." group="General">
                        <Tunable type="float" name="culling_buffer_percentage" class="TunablePercent" default="20" display="Culling Buffer Percentage" min="0" max="100" description="When sim infos are culled due to the number of sim infos exceeding the cap, this is how much below the cap the number of sim infos will be (as a percentage of the cap) after the culling, roughly. The margin of error is due to the fact that we cull at the household level, so the number of sims culled can be a bit more than this value if the last household culled contains more sims than needed to reach the goal. (i.e. we never cull partial households)" group="General" />
                        <TunableVariant type="None" name="homeless_played_demotion_time" class="OptionalTunable" default="disabled" display="Homeless Played Demotion Time" description="If enabled, played Sims that have been homeless for at least this many days will be drops from FULL to BASE_SIMULATABLE lod." group="General">
                            <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                            <Tunable type="int" name="enabled" class="TunableRange" default="10" display="Enabled" min="0" max="None" tuning_state="NeedsTuning" group="General" />
                        </TunableVariant>
                        <TunableList name="sim_info_cap_per_lod" class="TunableMapping" display="Sim Info Cap Per Lod" mapping_key="key" mapping_value="value" description="The mapping of SimInfoLODLevel value to an interval of sim info cap integer values. NOTE: The ACTIVE lod can't be tuned here because it's being tracked via the Maximum Size tuning in Household module tuning." group="General">
                            <TunableTuple class="TunableTuple" group="General">
                                <TunableEnum type="SimInfoLODLevel" name="key" class="TunableEnumEntry" default="FULL" display="Key" static_entries="sims-sim_info_lod.SimInfoLODLevel" description="The SimInfoLODLevel value." group="General" invalid_entries="ACTIVE" />
                                <Tunable type="int" name="value" class="TunableRange" default="210" display="Value" min="0" max="None" description="The number of sim infos allowed to be present before culling is triggered for this SimInfoLODLevel." tuning_state="NeedsTuning" group="General" />
                            </TunableTuple>
                        </TunableList>
                        <TunableTuple name="time_of_day" class="TunableTuple" display="Time Of Day" description="Only run this action when it is between a certain time of day." group="General">
                            <TunableTuple name="end_time" class="TunableTimeOfDay" display="End Time" description="An Hour(24Hr) and Minute representing a time relative to the beginning of a day." group="General">
                                <Tunable type="int" name="hour" class="TunableRange" default="6" display="Hour" min="0" max="23" description="Hour of the day" tuning_state="NeedsTuning" group="General" />
                                <Tunable type="int" name="minute" class="TunableRange" default="0" display="Minute" min="0" max="59" description="Minute of Hour" tuning_state="NeedsTuning" group="General" />
                            </TunableTuple>
                            <TunableTuple name="start_time" class="TunableTimeOfDay" display="Start Time" description="An Hour(24Hr) and Minute representing a time relative to the beginning of a day." group="General">
                                <Tunable type="int" name="hour" class="TunableRange" default="2" display="Hour" min="0" max="23" description="Hour of the day" tuning_state="NeedsTuning" group="General" />
                                <Tunable type="int" name="minute" class="TunableRange" default="0" display="Minute" min="0" max="59" description="Minute of Hour" tuning_state="NeedsTuning" group="General" />
                            </TunableTuple>
                        </TunableTuple>
                    </TunableTuple>
                    <Tunable name="none" class="TunableExistance" display="None" />
                    <TunableTuple name="relationship_culling" class="TunableStoryProgressionRelationshipCulling" display="Relationship Culling" description="An action defines behavior that is to occur on a certain subset of Sims affected by Story Progression." group="General">
                        <TunableTuple name="time_of_day" class="TunableTuple" display="Time Of Day" description="Only run this action when it is between a certain time of day." group="General">
                            <TunableTuple name="end_time" class="TunableTimeOfDay" display="End Time" description="An Hour(24Hr) and Minute representing a time relative to the beginning of a day." group="General">
                                <Tunable type="int" name="hour" class="TunableRange" default="5" display="Hour" min="0" max="23" description="Hour of the day" tuning_state="NeedsTuning" group="General" />
                                <Tunable type="int" name="minute" class="TunableRange" default="0" display="Minute" min="0" max="59" description="Minute of Hour" tuning_state="NeedsTuning" group="General" />
                            </TunableTuple>
                            <TunableTuple name="start_time" class="TunableTimeOfDay" display="Start Time" description="An Hour(24Hr) and Minute representing a time relative to the beginning of a day." group="General">
                                <Tunable type="int" name="hour" class="TunableRange" default="2" display="Hour" min="0" max="23" description="Hour of the day" tuning_state="NeedsTuning" group="General" />
                                <Tunable type="int" name="minute" class="TunableRange" default="0" display="Minute" min="0" max="59" description="Minute of Hour" tuning_state="NeedsTuning" group="General" />
                            </TunableTuple>
                        </TunableTuple>
                    </TunableTuple>
                    <TunableTuple name="rentable_lot_population" class="TunableStoryProgressionDestinationPopulateAction" display="Rentable Lot Population" description="An action defines behavior that is to occur on a certain subset of Sims affected by Story Progression." group="General">
                        <TunableList name="_region_to_rentable_zone_density" class="TunableMapping" display="Region To Rentable Zone Density" mapping_key="Region Description" mapping_value="Rentable Zone Density" description="Based on region what percent of available lots will be filled." group="General">
                            <TunableTuple class="TunableTuple" group="General">
                                <Tunable type="regiondescription" name="Region Description" class="TunableReference" display="Region Description" group="General" pack_safe="True" />
                                <TunableTuple name="Rentable Zone Density" class="TunableTuple" display="Rentable Zone Density" group="General">
                                    <TunableList name="_venues_to_populate" class="TunableSet" display="Venues To Populate" description="A set of venue references that are considered to be rentable." group="General" unique_entries="true">
                                        <Tunable type="venue" class="TunableReference" allow_none="False" group="General" pack_safe="True" />
                                    </TunableList>
                                    <TunableList name="bed_count_to_travel_group_size" class="TunableMapping" display="Bed Count To Travel Group Size" mapping_key="Number of beds" mapping_value="Travel Group Size" description="Based on the house description how many sims should go on vacation" group="General">
                                        <TunableTuple class="TunableTuple" group="General">
                                            <Tunable type="int" name="Number of beds" class="Tunable" default="1" display="Number Of Beds" description="The number of beds on the lot to determine how many sims can go in the vacation group." tuning_state="NeedsTuning" group="General" />
                                            <TunableVariant type="None" name="Travel Group Size" class="TunableLiteralOrRandomValue" default="literal" display="Travel Group Size" description="The maximum number of sims that should go on vacation to that lot." group="General">
                                                <TunableTuple name="literal" class="TunableIntervalLiteral" display="Literal" description="A literal value that is to be used as the lower and upper bound of an interval. This allows both literal and range interval tunings in the same TunableVariant without having to manually set the lower and upper bounds to the same value." group="General">
                                                    <Tunable type="int" name="value" class="TunableRange" default="10" display="Value" min="0" max="None" description="The upper and lower bounds." tuning_state="NeedsTuning" group="General" />
                                                </TunableTuple>
                                                <TunableTuple name="random_in_range" class="TunableInterval" display="Random In Range" description="A tunable interval between lower_bound and upper_bound." group="General">
                                                    <Tunable type="int" name="lower_bound" class="TunableRange" default="10" display="Lower Bound" min="0" max="None" description="The lower bound of the interval." tuning_state="NeedsTuning" group="General" />
                                                    <Tunable type="int" name="upper_bound" class="TunableRange" default="10" display="Upper Bound" min="None" max="None" description="The upper bound of the interval." tuning_state="NeedsTuning" group="General" />
                                                </TunableTuple>
                                            </TunableVariant>
                                        </TunableTuple>
                                    </TunableList>
                                    <Tunable type="float" name="density" class="TunablePercent" default="80" display="Density" min="0" max="100" description="Percent of lots will be occupied once a user sim has rented a lot." group="General" />
                                    <TunableVariant type="None" name="duration" class="TunableLiteralOrRandomValue" default="literal" display="Duration" description="The maximum in sim days npc's should stay on vacation." group="General">
                                        <TunableTuple name="literal" class="TunableIntervalLiteral" display="Literal" description="A literal value that is to be used as the lower and upper bound of an interval. This allows both literal and range interval tunings in the same TunableVariant without having to manually set the lower and upper bounds to the same value." group="General">
                                            <Tunable type="int" name="value" class="TunableRange" default="1" display="Value" min="1" max="None" description="The upper and lower bounds." tuning_state="NeedsTuning" group="General" />
                                        </TunableTuple>
                                        <TunableTuple name="random_in_range" class="TunableInterval" display="Random In Range" description="A tunable interval between lower_bound and upper_bound." group="General">
                                            <Tunable type="int" name="lower_bound" class="TunableRange" default="1" display="Lower Bound" min="1" max="None" description="The lower bound of the interval." tuning_state="NeedsTuning" group="General" />
                                            <Tunable type="int" name="upper_bound" class="TunableRange" default="1" display="Upper Bound" min="None" max="None" description="The upper bound of the interval." tuning_state="NeedsTuning" group="General" />
                                        </TunableTuple>
                                    </TunableVariant>
                                    <TunableList name="household_description_to_ideal_travel_group_size" class="TunableMapping" display="Household Description To Ideal Travel Group Size" mapping_key="House Description" mapping_value="Travel Group Size" description="Based on the house description how many sims should go on vacation" group="General">
                                        <TunableTuple class="TunableTuple" group="General">
                                            <Tunable type="housedescription" name="House Description" class="TunableReference" display="House Description" group="General" pack_safe="True" />
                                            <TunableVariant type="None" name="Travel Group Size" class="TunableLiteralOrRandomValue" default="literal" display="Travel Group Size" description="The maximum number of sims that should go on vacation to that lot." group="General">
                                                <TunableTuple name="literal" class="TunableIntervalLiteral" display="Literal" description="A literal value that is to be used as the lower and upper bound of an interval. This allows both literal and range interval tunings in the same TunableVariant without having to manually set the lower and upper bounds to the same value." group="General">
                                                    <Tunable type="int" name="value" class="TunableRange" default="10" display="Value" min="0" max="None" description="The upper and lower bounds." tuning_state="NeedsTuning" group="General" />
                                                </TunableTuple>
                                                <TunableTuple name="random_in_range" class="TunableInterval" display="Random In Range" description="A tunable interval between lower_bound and upper_bound." group="General">
                                                    <Tunable type="int" name="lower_bound" class="TunableRange" default="10" display="Lower Bound" min="0" max="None" description="The lower bound of the interval." tuning_state="NeedsTuning" group="General" />
                                                    <Tunable type="int" name="upper_bound" class="TunableRange" default="10" display="Upper Bound" min="None" max="None" description="The upper bound of the interval." tuning_state="NeedsTuning" group="General" />
                                                </TunableTuple>
                                            </TunableVariant>
                                        </TunableTuple>
                                    </TunableList>
                                    <Tunable type="int" name="min_to_populate" class="TunableRange" default="3" display="Min To Populate" min="0" max="None" description="Minimum number of lots that should be rented." tuning_state="NeedsTuning" group="General" />
                                    <TunableList name="travel_group_size_to_household_template" class="TunableMapping" display="Travel Group Size To Household Template" mapping_key="key" mapping_value="value" description="Mapping to travel group size to household templates. If there are no household that fulfill the requirement of renting a zone, then random household template will chosen to be created to rent a zone." group="General">
                                        <TunableTuple class="TunableTuple" group="General">
                                            <Tunable type="int" name="key" class="Tunable" default="1" display="Key" tuning_state="NeedsTuning" group="General" />
                                            <TunableList name="value" class="TunableList" display="Value" description="Household template that will be created for renting a zone." group="General">
                                                <Tunable type="sim_template" class="TunableReference" allow_none="False" group="General" restrict="HouseholdTemplate" />
                                            </TunableList>
                                        </TunableTuple>
                                    </TunableList>
                                </TunableTuple>
                            </TunableTuple>
                        </TunableList>
                    </TunableTuple>
                    <TunableTuple name="university" class="TunableStoryProgressionActionUniversity" display="University" description="An action defines behavior that is to occur on a certain subset of Sims affected by Story Progression." group="General">
                        <TunableList name="number_of_classes_to_take_on_reenrollment" class="TunableList" display="Number Of Classes To Take On Reenrollment" description="A list of weighted numbers of classes to take when this story progression action re-enrolls a sim." group="General">
                            <TunableTuple class="TunableTuple" group="General">
                                <Tunable type="int" name="number_of_classes" class="TunableRange" default="3" display="Number Of Classes" min="1" max="None" description="The number of classes to take." tuning_state="NeedsTuning" group="General" />
                                <Tunable type="int" name="weight" class="Tunable" default="1" display="Weight" description="The relative chance of taking this number of classes." tuning_state="NeedsTuning" group="General" />
                            </TunableTuple>
                        </TunableList>
                        <TunableTuple name="performance_gain_per_day" class="TunableInterval" display="Performance Gain Per Day" description="The amount of work performance to give a university student per day." group="General">
                            <Tunable type="float" name="lower_bound" class="TunableRange" default="70" display="Lower Bound" min="0" max="None" description="The lower bound of the interval." tuning_state="NeedsTuning" group="General" />
                            <Tunable type="float" name="upper_bound" class="TunableRange" default="90" display="Upper Bound" min="None" max="None" description="The upper bound of the interval." tuning_state="NeedsTuning" group="General" />
                        </TunableTuple>
                        <TunableTuple name="time_to_update_progress" class="TunableTimeOfDay" display="Time To Update Progress" description="The approximate time of day when the action should update story progress." group="General">
                            <Tunable type="int" name="hour" class="TunableRange" default="20" display="Hour" min="0" max="23" description="Hour of the day" tuning_state="NeedsTuning" group="General" />
                            <Tunable type="int" name="minute" class="TunableRange" default="0" display="Minute" min="0" max="59" description="Minute of Hour" tuning_state="NeedsTuning" group="General" />
                        </TunableTuple>
                    </TunableTuple>
                </TunableVariant>
            </TunableList>

            <Tunable type="float" name="INTERVAL" class="TunableRealSecond" default="5" display="Interval" min="None" max="None" description="The time between Story Progression actions. A lower number will impact performance." tuning_state="NeedsTuning" group="General" />

            <TunableList name="STORY_PROGRESSION_PASSES" class="TunableList" display="Story Progression Passes" description="A list of the different Story Progression Passes that are used to attempt to seed new Story Arcs upon Sims." group="General">
                <TunableTuple class="TunableTuple" description="Data related to a single Story Progression Pass." group="General">
                    <Tunable type="str" name="debug_pass_name" class="Tunable" default="" display="Debug Pass Name" description="Name of this pass for use within logs and the GSI for easier debugging." group="General" />
                    <TunableList name="demographic_data" class="TunableList" display="Demographic Data" description="A grouping of the different instructions of what this pass should do at every demographic value given by the demographic function." group="General">
                        <TunableTuple class="TunableTuple" description="A group of demographic data. Each set of demographic data should have a maximum range higher than the previous one." group="General">
                            <Tunable type="float" name="chance_of_occurrence" class="TunablePercent" default="100" display="Chance Of Occurrence" min="0" max="100" description="The chance that we attempt to seed an arc at all during this pass at this demographic level." group="General" />
                            <Tunable type="float" name="maximum_range" class="TunablePercent" default="100" display="Maximum Range" min="0" max="100" description="The maximum value of this range of demographic data within the pass tuning. Each maximum range should be larger than the one before it in order to create the ranges where each set of demographic data is used. The demographic function ends up returning a percentage which we then use these values to determine which data set we want to use based on that percentage." group="General" />
                            <TunableTuple name="number_to_seed" class="TunableInterval" display="Number To Seed" description="The number of arcs to seed. A random value between min and max will be chosen as the number we will seed." group="General">
                                <Tunable type="int" name="lower_bound" class="TunableRange" default="1" display="Lower Bound" min="0" max="None" description="The lower bound of the interval." tuning_state="NeedsTuning" group="General" />
                                <Tunable type="int" name="upper_bound" class="TunableRange" default="3" display="Upper Bound" min="None" max="None" description="The upper bound of the interval." tuning_state="NeedsTuning" group="General" />
                            </TunableTuple>
                        </TunableTuple>
                    </TunableList>
                    <TunableVariant type="None" name="demographic_function" class="TunableVariant" default="sim_test" display="Demographic Function" description="The different demographic function that we will use in order to determine the chance of one of these arcs being seeded. Each of these functions will return a percentage of sims/households/lots that fit the question out of a total. This percentage is then used with the demographic data to determine exactly what to do." group="General">
                        <TunableTuple name="residential_lot" class="TunableResidentialLotDemographicFunction" display="Residential Lot" description="A demographic function that checks against the lots that are populated or not." group="General">
                            <Tunable type="bool" name="check_filled_lots" class="Tunable" default="False" display="Check Filled Lots" description="If checked we will check the number of residential lots that have Sims who live on them against the total number of residential lots with at least one bed or have a Sim living there, else we will do the opposite and check the number of empty residential lots with at least one bed against the number of total residential lots that have at least one bed or a Sim living there." group="General" />
                        </TunableTuple>
                        <TunableTuple name="sim_test" class="TunableSimTestDemographicFunction" display="Sim Test" description="A demographic function that checks all Sims that pass one test against all of the Sims that pass both that test and another one." group="General">
                            <TdescFragTag name="demographic_tests" class="TunableTestSet" display="Demographic Tests" description="A set of tests that the Sim must pass to actually be in consideration. These tests will be run after the initial tests so the final demographic number will end up being: number of sims that pass demographic tests/number of sims that pass initial tests" group="General" />
                            <TdescFragTag name="initial_tests" class="TunableTestSet" display="Initial Tests" description="The initial set of tests that are run in order to determine which Sims should this demographic test check against. Leave this empty to test against all Sims. Example: If we are trying to figure out the rate of employment for Teens. A test to check if the Sim Info is a Teen should be here." group="General" />
                        </TunableTuple>
                        <TunableTuple name="total_sim" class="TunableTotalSimDemographicFunction" display="Total Sim" description="A demographic function that checks all Sims against the total Sim Cap" group="General" />
                    </TunableVariant>
                    <TunableEnum type="StoryProgressionPassType" name="pass_type" class="TunableEnumEntry" default="GLOBAL" display="Pass Type" static_entries="story_progression-story_progression_service.StoryProgressionPassType" description="The different type of pass this is. GLOBAL: This pass will run a single time and interact with Sims/Households/Lots across the entire game. PER_WORLD: This pass will run multiple times, once per world and only interact with Sims/Households/Lots on that world." group="General" />
                    <TunableList name="potential_arcs" class="TunableList" display="Potential Arcs" description="A weighted list of the potential story arcs to try and seed." group="General">
                        <TunableTuple class="TunableTuple" description="A pair of a potential story arc and the weight of that story arc being selected." group="General">
                            <Tunable type="story_arc" name="story_arc" class="TunableReference" display="Story Arc" description="The story arc that might be chosen." allow_none="False" group="General" pack_safe="True" />
                            <Tunable type="int" name="weight" class="TunableRange" default="1" display="Weight" min="1" max="None" description="The chance that this story arc will be chosen." tuning_state="NeedsTuning" group="General" />
                        </TunableTuple>
                    </TunableList>
                </TunableTuple>
            </TunableList>

            <TunableTuple name="UPDATE_TIME" class="TunableTimeOfDay" display="Update Time" description="The time of day that the story progression service will seed new arcs and update the existing ones." group="General">
                <Tunable type="int" name="hour" class="TunableRange" default="12" display="Hour" min="0" max="23" description="Hour of the day" tuning_state="NeedsTuning" group="General" />
                <Tunable type="int" name="minute" class="TunableRange" default="0" display="Minute" min="0" max="59" description="Minute of Hour" tuning_state="NeedsTuning" group="General" />
            </TunableTuple>
        </Class>
    </Module>
</TuningRoot>
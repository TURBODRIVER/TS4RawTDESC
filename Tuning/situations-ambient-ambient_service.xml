<?xml version="1.0" encoding="iso-8859-1"?>

<TuningRoot>
    <Module name="situations.ambient.ambient_service">
        <Class name="_AmbientSourceGhost">
            <TunableList name="DESIRED_GHOST_COUNT_PER_URNSTONE" class="TunableCurve" display="Desired Ghost Count Per Urnstone" description="This curve describes the maximum number of ghosts we want in the lot based on the number of valid urnstones in the lot. If there are more urnstones than the maximum number tuned on the X axis, we will just use the final Y value." group="General">
                <TunableTuple class="TunableVector2" description="Point on a Curve" group="General">
                    <Tunable type="float" name="x" class="Tunable" default="0.0" display="x: Valid Urnstones" description="x component" tuning_state="NeedsTuning" group="General" />
                    <Tunable type="float" name="y" class="Tunable" default="0.0" display="y: Desired Ghost Count" description="y component" tuning_state="NeedsTuning" group="General" />
                </TunableTuple>
            </TunableList>

            <TunableList name="GHOST_SITUATIONS" class="TunableTestedList" display="Ghost Situations" description="A list of possible ghost situations, tested aginst the Sim we want to spawn." group="General">
                <TunableTuple class="TunableTuple" description="An entry in this tested list." group="General">
                    <Tunable type="situation" name="item" class="TunableReference" display="Item" description="The ghost situation to spawn." allow_none="False" group="General" pack_safe="True" />
                    <Tunable type="bool" name="stop_processing" class="Tunable" default="False" display="Stop Processing" description="If checked, no other element from this list is considered if this element passes its associated test." group="General" />
                    <TdescFragTag name="test" class="TunableTestSet" display="Test" description="A list of tests groups. At least one must pass all its sub- tests to pass the TestSet. ORs of ANDs" group="General" />
                </TunableTuple>
            </TunableList>

            <TunableList name="STREET_OVERRIDES" class="TunableMapping" display="Street Overrides" mapping_key="key" mapping_value="value" description="A mapping between streets and their override for this AmbientSource." group="General">
                <TunableTuple class="TunableTuple" group="General">
                    <Tunable type="street" name="key" class="TunableReference" display="Key" description="A Street Tuning instance. This is used to differentiate likelihoods of different forms of ambient walkbys." allow_none="False" group="General" pack_safe="True" />
                    <TunableTuple name="value" class="TunableTuple" display="Value" description="The list of overrides for this street." group="General">
                        <Tunable type="float" name="allowed_duration" class="TunableRange" default="5" display="Allowed Duration" min="0" max="23" description="The amount of time, in sim hours, past the 'Walkby Start Time' that the ghost walkbys can start." tuning_state="NeedsTuning" group="General" />
                        <TunableTuple name="allowed_start_time" class="TunableTimeOfDay" display="Allowed Start Time" description="The time of day (24hr) when NPC ghosts can start doing walkbys." group="General">
                            <Tunable type="int" name="hour" class="TunableRange" default="21" display="Hour" min="0" max="23" description="Hour of the day" tuning_state="NeedsTuning" group="General" />
                            <Tunable type="int" name="minute" class="TunableRange" default="0" display="Minute" min="0" max="59" description="Minute of Hour" tuning_state="NeedsTuning" group="General" />
                        </TunableTuple>
                        <TunableList name="ghost_count_per_urnstone" class="TunableCurve" display="Ghost Count Per Urnstone" description="This curve describes the maximum number of ghosts we want on the lot based on the number of valid urnstones in the lot. If there are more urnstones than the maximum number tuned on the X axis, we will just use the final Y value." group="General">
                            <TunableTuple class="TunableVector2" description="Point on a Curve" group="General">
                                <Tunable type="float" name="x" class="Tunable" default="0.0" display="x: Valid Urnstones" description="x component" tuning_state="NeedsTuning" group="General" />
                                <Tunable type="float" name="y" class="Tunable" default="0.0" display="y: Desired Ghost Count" description="y component" tuning_state="NeedsTuning" group="General" />
                            </TunableTuple>
                        </TunableList>
                        <Tunable type="float" name="source_priority" class="Tunable" default="2.1" display="Source Priority" description="A multiplier used to boost the likelihood of this source contributing to walkbys." tuning_state="NeedsTuning" group="General" />
                    </TunableTuple>
                </TunableTuple>
            </TunableList>

            <Tunable type="float" name="WALKBY_ALLOWED_DURATION" class="TunableRange" default="5" display="Walkby Allowed Duration" min="0" max="23" description="The amount of time, in sim hours, past the 'Walkby Start Time' that the ghost walkbys can start." tuning_state="NeedsTuning" group="General" />

            <TunableTuple name="WALKBY_ALLOWED_START_TIME" class="TunableTimeOfDay" display="Walkby Allowed Start Time" description="The time of the day (24hr) when NPC ghosts can start doing walkbys." group="General">
                <Tunable type="int" name="hour" class="TunableRange" default="21" display="Hour" min="0" max="23" description="Hour of the day" tuning_state="NeedsTuning" group="General" />
                <Tunable type="int" name="minute" class="TunableRange" default="0" display="Minute" min="0" max="59" description="Minute of Hour" tuning_state="NeedsTuning" group="General" />
            </TunableTuple>
        </Class>

        <Class name="AmbientService">
            <TunableList name="SOCIAL_AFFORDANCES" class="TunableList" display="Social Affordances" description="When selected for a walkby social the sim runs one of the social affordances in this list." group="General">
                <Tunable type="interaction" class="TunableReference" allow_none="False" group="General" restrict="SocialSuperInteraction" />
            </TunableList>

            <Tunable type="float" name="SOCIAL_CHANCE_TO_START" class="TunablePercent" default="100" display="Social Chance To Start" min="0" max="100" description="This is the percentage chance, per pair of properly positioned sims, that a social will be started on an ambient service ping. The number of pairs of sims is multiplied by this tunable to get the overall chance of a social starting. For the purposes of these examples, we assume that the tuned value is 25% 1 pair of sims -> 25%. 2 pairs of sims -> 50% 4 pairs of sims -> 100%." group="General" />

            <Tunable type="float" name="SOCIAL_COOLDOWN" class="TunableSimMinute" default="60" display="Social Cooldown" min="30" max="480" description="The minimum amount of time from the end of one social until the walkby sim can perform another social. If it is too small sims may socialize, stop, then start socializing again." tuning_state="NeedsTuning" group="General" />

            <Tunable type="float" name="SOCIAL_MAX_DURATION" class="TunableSimMinute" default="60" display="Social Max Duration" min="1" max="180" description="The maximum amount of time the sims can socialize." tuning_state="NeedsTuning" group="General" />

            <Tunable type="float" name="SOCIAL_MAX_START_DISTANCE" class="TunableDistanceSquared" default="10" display="Social Max Start Distance" description="Walkby Sims must be less than this distance apart for a social to be started." tuning_state="NeedsTuning" group="General" />

            <Tunable type="float" name="SOCIAL_VIEW_CONE_ANGLE" class="TunableAngle" default="180.0" display="Social View Cone Angle" min="0.0" max="360.0" description="For 2 sims to be able to socialize at least one sim must be in the view cone of the other. This tunable defines the view cone as an angle in degrees centered straight out in front of the sim. 0 degrees would make the sim blind, 360 degrees means the sim can see in all directions." tuning_state="NeedsTuning" group="General" />

            <Tunable type="situation" name="TEST_WALKBY_SITUATION" class="TunableReference" display="Test Walkby Situation" description="A walkby situation for testing." allow_none="False" group="General" />
        </Class>
    </Module>
</TuningRoot>
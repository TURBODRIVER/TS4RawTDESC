<?xml version="1.0" encoding="iso-8859-1"?>

<TuningRoot>
    <Module name="services.prom_service">
        <Class name="PromRelationshipBitType" enum_bit_flag="False" enum_locked="False">
            <EnumItem name="INVITED" enum_value="1" />

            <EnumItem name="SKIP_PROM_PACT" enum_value="2" />
        </Class>

        <Class name="PromService">
            <TunableList name="PROM_PACT_BROKEN_LOOTS" class="TunableList" display="Prom Pact Broken Loots" description="A list of loot actions to apply if the prom pact between two sims is broken (one of the sims attended prom). Subject is the pact breaker, target is the other sim in the pact." group="General">
                <Tunable type="action" class="TunableReference" description="Loot action to apply if the pact is broken. " allow_none="False" group="General" pack_safe="True" restrict="LootActions" />
            </TunableList>

            <TunableList name="PROM_PACT_FULFILLED_LOOTS" class="TunableList" display="Prom Pact Fulfilled Loots" description="A list of loot actions to apply if the prom pact between two sims is fulfilled (prom was canceled or neither sim attended). " group="General">
                <Tunable type="action" class="TunableReference" description="Loot action to apply if the pact is fulfilled. " allow_none="False" group="General" pack_safe="True" restrict="LootActions" />
            </TunableList>

            <Tunable type="venue" name="PROM_SUBVENUE" class="TunableReference" display="Prom Subvenue" description="A reference to the prom subvenue type." allow_none="False" group="General" pack_safe="True" />

            <TunableTuple name="RESTORE_VENUE_DELAY" class="TunableTimeSpan" display="Restore Venue Delay" description="A delay in minutes to restore the venue when the situation ends." group="General">
                <Tunable type="int" name="days" class="TunableRange" default="0" display="Days" min="0" max="None" description="Number of days" tuning_state="NeedsTuning" group="General" />
                <Tunable type="int" name="hours" class="TunableRange" default="0" display="Hours" min="0" max="23" description="Number of hours" tuning_state="NeedsTuning" group="General" />
                <Tunable type="int" name="minutes" class="TunableRange" default="1" display="Minutes" min="0" max="59" description="Number of minutes" tuning_state="NeedsTuning" group="General" />
            </TunableTuple>

            <TunableList name="TEEN_LOOTS_ON_PROM_TIME" class="TunableList" display="Teen Loots On Prom Time" description="A list of loot actions to apply to played teens when it is time for prom, regardless if prom happens or not." group="General">
                <TunableTuple class="TunableTuple" group="General">
                    <Tunable type="action" name="loots" class="TunableReference" display="Loots" description="A list of loot actions to apply to the teen and the target (if enabled)." allow_none="False" group="General" pack_safe="True" restrict="LootActions" />
                    <TunableVariant type="None" name="target_relationship_test" class="OptionalTunable" default="disabled" display="Target Relationship Test" description="If enabled, only sims that pass this relationship test will be considered for this loot. Sims that do not pass the test will not have loots applied to them." group="General">
                        <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                        <TunableTuple name="enabled" class="TunableRelationshipTest" display="Enabled" description="The relationship test sims will have to pass to be considered for this loot." group="General">
                            <Tunable type="bool" name="invert_num_relations" class="Tunable" default="False" display="Invert Num Relations" description="If checked then we will check that your Num Relations is less than or equal to the value rather than the other way around." group="General" />
                            <Tunable type="bool" name="must_have_track" class="Tunable" default="False" display="Must Have Track" description="Setting this to True (checked) will ensure that this test only passes if the tested Sims actually have the tuned relationship track. If left False (unchecked), this test will evaluate as if the Sims have the relationship track at the value of 0." group="General" />
                            <Tunable type="int" name="num_relations" class="Tunable" default="0" display="Num Relations" description="Number of Sims with specified relationships required to pass, default(0) is all known relations. If value set to 1 or greater, then test is looking at least that number of relationship to match the criteria. If value is set to 0, then test will pass if relationships being tested must match all criteria of the test to succeed. For example, if interaction should not appear if any relationship contains a relationship bit, this value should be 0." tuning_state="NeedsTuning" group="General" />
                            <TunableTuple name="prohibited_relationship_bits" class="TunableTuple" display="Prohibited Relationship Bits" group="General">
                                <TunableList name="match_all" class="TunableSet" display="Match All" description="All of these relationship bits must match to fail the test." group="General" unique_entries="true">
                                    <Tunable type="relbit" class="TunableReference" allow_none="False" group="General" />
                                </TunableList>
                                <TunableList name="match_any" class="TunableSet" display="Match Any" description="If any of these relationship bits match the test will fail." group="General" unique_entries="true">
                                    <Tunable type="relbit" class="TunableReference" allow_none="False" group="General" pack_safe="True" />
                                </TunableList>
                            </TunableTuple>
                            <TunableTuple name="relationship_score_interval" class="TunableInterval" display="Relationship Score Interval" description="The range that the relationship score must be within in order for this test to pass." group="General">
                                <Tunable type="float" name="lower_bound" class="TunableRange" default="-100.0" display="Lower Bound" min="-100.0" max="None" description="The lower bound of the interval." tuning_state="NeedsTuning" group="General" />
                                <Tunable type="float" name="upper_bound" class="TunableRange" default="100.0" display="Upper Bound" min="None" max="100.0" description="The upper bound of the interval." tuning_state="NeedsTuning" group="General" />
                            </TunableTuple>
                            <TunableTuple name="required_relationship_bits" class="TunableTuple" display="Required Relationship Bits" group="General">
                                <TunableList name="match_all" class="TunableSet" display="Match All" description="All of these relationship bits must be present to pass the test." group="General" unique_entries="true">
                                    <Tunable type="relbit" class="TunableReference" allow_none="False" group="General" pack_safe="True" />
                                </TunableList>
                                <TunableList name="match_any" class="TunableSet" display="Match Any" description="Any of these relationship bits will pass the test." group="General" unique_entries="true">
                                    <Tunable type="relbit" class="TunableReference" allow_none="False" group="General" pack_safe="True" />
                                </TunableList>
                            </TunableTuple>
                            <TunableEnum type="RelationshipTestEvents" name="test_event" class="TunableEnumEntry" default="AllRelationshipEvents" display="Test Event" static_entries="relationships-relationship_tests.RelationshipTestEvents" description="The event that we want to trigger this instance of the tuned test on." group="General" />
                            <TunableVariant type="None" name="test_incest" class="TunableVariant" default="disabled" display="Test Incest" description="Test for incest status. Test passes if this matches the two Sim's incest status." group="General">
                                <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                                <Tunable name="is incestuous" class="TunableExistance" display="Is Incestuous" />
                                <Tunable name="is not incestuous" class="TunableExistance" display="Is Not Incestuous" />
                            </TunableVariant>
                            <TunableVariant type="None" name="tooltip" class="OptionalTunable" default="disabled" display="Tooltip" description="Reason of failure." group="General">
                                <Tunable name="disabled" class="TunableExistance" display="Disabled" />
                                <Tunable type="int" name="enabled" class="TunableLocalizedString" default="0x0" display="Enabled" description="Reason of failure." group="General" />
                            </TunableVariant>
                            <Tunable type="statistic" name="track" class="TunableReference" display="Track" description="If set, the test will use the relationship score between sims for this track. If unset, the track defaults to the global module tunable REL_INSPECTOR_TRACK." allow_none="True" group="General" pack_safe="True" restrict="RelationshipTrack" />
                        </TunableTuple>
                    </TunableVariant>
                </TunableTuple>
            </TunableList>
        </Class>
    </Module>
</TuningRoot>